/* Overlay-based blur: add a fixed ::before overlay when `.App.blurred` is set.
   Using backdrop-filter avoids blurring via a parent filter (which can't be
   undone for children) and prevents pointer-events interference.
*/

.App.blurred::before {
  content: '';
  position: fixed;
  inset: 0;
  z-index: 45; /* below navigation (z-50) and dropdowns which we push above */
  pointer-events: none; /* don't block interactions */
  backdrop-filter: blur(6px) saturate(.95);
  -webkit-backdrop-filter: blur(6px) saturate(.95);
  background: rgba(4,8,12,0.12); /* subtle tint to emphasize blur */
  transition: opacity 160ms ease-in-out;
  opacity: 1;
}

/* Keep header and dropdowns above overlay and interactive */
.App .header-nav,
.App .mega-menu,
.App .about-image,
.App .arch-image,
.App .mobile-menu {
  z-index: 60;
  position: relative;
  pointer-events: auto;
}

/* When dropdowns are already absolutely positioned with their own z-index,
   ensure they still stack above the overlay (some use z-20 in markup). */
.App .mega-menu { z-index: 60 !important; }
.App .about-image { z-index: 61 !important; }
.App .arch-image { z-index: 61 !important; }

